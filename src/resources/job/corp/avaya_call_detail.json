{
  "config": {
    "bucket_data": "ege-gap-prod-corp-ew1",
    "bucket_data_s3": "s3://ege-gap-prod-corp-ew1/GCO/public/CONTACT/PHONE/AVAYA/",
    "bucket_data_http": "https://s3-eu-west-1.amazonaws.com/",
    "bucket_conf": "ege-gap-conf-prod-corp-ew1",
    "prefix_conf": "GCO/CONTACT/PHONE/AVAYA/",
    "prefix_raw": "GCO/raw/CONTACT/PHONE/AVAYA/",
    "prefix_stage": "GCO/stage/CONTACT/PHONE/AVAYA/",
    "prefix_public": "GCO/public/CONTACT/PHONE/AVAYA/",
    "delta_loading_file": "",
    "loaded_to_public_file": "",
    "redshift_copy_cmd": "copy {table} {column_list} from 's3://{bucket}/{prefix}' iam_role '{iam_role}' delimiter '{delimiter}' FILLRECORD COMPUPDATE ON STATUPDATE ON ACCEPTINVCHARS IGNOREHEADER 0 TRIMBLANKS EMPTYASNULL IGNOREBLANKLINES CSV;",
    "redshift_copy_cmd_iam_role": "arn:aws:iam::637266587021:role/REDSHIFT_CORP_RT_S3_ACCESS",
    "redshift_copy_cmd_delimiter": "|",
    "stage_to_public_sql": "INSERT INTO {public_table} SELECT true as isrecordactive, getdate() as creationdate, getdate() as updateddate, 'awsuser' as createdby, s.* from {stage_table} s left outer join {public_table} p on (s.md5_hash_key = p.md5_hash_key) where p.md5_hash_key is null"
  },
  "get_data": [
    {
      "source": {
        "type": "samba",
        "share_name": "avaya_cms",
        "location": "call_detail",
        "columnid": "creationdate",
        "coalesce_value": "to_date('2017-11-20', 'YYYY-MM-DD')",
        "service_name": "Egencia",
        "path": "IDXProdToIDXCorp/ReportingTech/AvayaCMS",
        "pattern": "chr*",
        "is_active": 1,
        "delta": 1,
        "target": "avaya_call_detail",
        "target_test": "avaya_call_detail_test",
        "loading_method": "delta",
        "truncate_table": "truncate table {table}",
        "stage_table": "stage.avaya_call_detail",
        "stage_table_test": "stage.avaya_call_detail_test",
        "public_table": "public.avaya_call_detail",
        "public_table_test": "public.avaya_call_detail_test",
        "create_stage_table": "create table if not exists {table} (CALLID INTEGER ENCODE zstd, ACWTIME INTEGER ENCODE zstd, ANSHOLDTIME INTEGER ENCODE zstd, CONSULTTIME INTEGER ENCODE zstd, DISPTIME INTEGER ENCODE zstd, DURATION INTEGER ENCODE zstd, SEGSTART CHAR(19) ENCODE zstd, SEGSTART_UTC CHAR(19) ENCODE zstd, SEGSTOP CHAR(19) ENCODE zstd, SEGSTOP_UTC CHAR(19) ENCODE zstd, TALKTIME INTEGER ENCODE zstd, NETINTIME INTEGER ENCODE zstd, ORIGHOLDTIME INTEGER ENCODE zstd, QUEUETIME INTEGER ENCODE zstd, RINGTIME INTEGER ENCODE zstd, ORIG_ATTRIB_ID INTEGER ENCODE zstd, ANS_ATTRIB_ID SMALLINT ENCODE zstd, OBS_ATTRIB_ID INTEGER ENCODE zstd, DISPIVECTOR SMALLINT ENCODE zstd, DISPSPLIT SMALLINT ENCODE zstd, FIRSTIVECTOR SMALLINT ENCODE zstd, SPLIT1 SMALLINT ENCODE zstd, SPLIT2 SMALLINT ENCODE zstd, SPLIT3 SMALLINT ENCODE zstd, TKGRP SMALLINT ENCODE zstd, EQ_LOCID SMALLINT ENCODE zstd, ORIG_LOCID SMALLINT ENCODE zstd, ANS_LOCID SMALLINT ENCODE zstd, OBS_LOCID SMALLINT ENCODE zstd, UUI_LEN SMALLINT ENCODE zstd, ASSIST BOOLEAN ENCODE zstd, AUDIO BOOLEAN ENCODE zstd, CONFERENCE BOOLEAN ENCODE zstd, DA_QUEUED BOOLEAN ENCODE zstd, HOLDABN BOOLEAN ENCODE zstd, MALICIOUS BOOLEAN ENCODE zstd, OBSERVINGCALL BOOLEAN ENCODE zstd, TRANSFERRED BOOLEAN ENCODE zstd, AGT_RELEASED BOOLEAN ENCODE zstd, ACD SMALLINT ENCODE zstd, CALL_DISP SMALLINT ENCODE zstd, DISPPRIORITY SMALLINT ENCODE zstd, HELD SMALLINT ENCODE zstd, SEGMENT SMALLINT ENCODE zstd, ANSREASON SMALLINT ENCODE zstd, ORIGREASON SMALLINT ENCODE zstd, DISPSKLEVEL SMALLINT ENCODE zstd, EVENT1 SMALLINT ENCODE zstd, EVENT2 SMALLINT ENCODE zstd, EVENT3 SMALLINT ENCODE zstd, EVENT4 SMALLINT ENCODE zstd, EVENT5 SMALLINT ENCODE zstd, EVENT6 SMALLINT ENCODE zstd, EVENT7 SMALLINT ENCODE zstd, EVENT8 SMALLINT ENCODE zstd, EVENT9 SMALLINT ENCODE zstd, UCID CHAR(52) ENCODE zstd, DISPVDN CHAR(42) ENCODE zstd, EQLOC CHAR(30) ENCODE zstd, FIRSTVDN CHAR(42) ENCODE zstd, ORIGLOGIN CHAR(42) ENCODE zstd, ANSLOGIN CHAR(42) ENCODE zstd, LASTOBSERVER CHAR(42) ENCODE zstd, DIALED_NUM CHAR(60) ENCODE zstd, CALLING_PTY CHAR(60) ENCODE zstd, LASTDIGITS CHAR(44) ENCODE zstd, LASTCWC CHAR(44) ENCODE zstd, CALLING_II CHAR(16) ENCODE zstd, CWC1 CHAR(44) ENCODE zstd, CWC2 CHAR(44) ENCODE zstd, CWC3 CHAR(44) ENCODE zstd, CWC4 CHAR(44) ENCODE zstd, CWC5 CHAR(44) ENCODE zstd, VDN2 CHAR(42) ENCODE zstd, VDN3 CHAR(42) ENCODE zstd, VDN4 CHAR(42) ENCODE zstd, VDN5 CHAR(42) ENCODE zstd, VDN6 CHAR(42) ENCODE zstd, VDN7 CHAR(42) ENCODE zstd, VDN8 CHAR(42) ENCODE zstd, VDN9 CHAR(42) ENCODE zstd, ASAI_UUI CHAR(204) ENCODE zstd, INTERUPTDEL SMALLINT ENCODE zstd, AGENTSURPLUS SMALLINT ENCODE zstd, AGENTSKILLLEVEL SMALLINT ENCODE zstd, PREFSKILLLEVEL SMALLINT ENCODE zstd, ICRRESENT SMALLINT ENCODE zstd, ICRPULLREASON SMALLINT ENCODE zstd, TENANT INTEGER ENCODE zstd, MD5_HASH_KEY varchar(100) ENCODE zstd) distkey(callid) compound sortkey(callid, segment);",
        "create_public_table": "create table if not exists {table} (isrecordactive bool ENCODE zstd, creationdate timestamp ENCODE zstd, updateddate timestamp ENCODE zstd, createdby varchar(50) ENCODE zstd, CALLID INTEGER ENCODE zstd, ACWTIME INTEGER ENCODE zstd, ANSHOLDTIME INTEGER ENCODE zstd, CONSULTTIME INTEGER ENCODE zstd, DISPTIME INTEGER ENCODE zstd, DURATION INTEGER ENCODE zstd, SEGSTART CHAR(19) ENCODE zstd, SEGSTART_UTC CHAR(19) ENCODE zstd, SEGSTOP CHAR(19) ENCODE zstd, SEGSTOP_UTC CHAR(19) ENCODE zstd, TALKTIME INTEGER ENCODE zstd, NETINTIME INTEGER ENCODE zstd, ORIGHOLDTIME INTEGER ENCODE zstd, QUEUETIME INTEGER ENCODE zstd, RINGTIME INTEGER ENCODE zstd, ORIG_ATTRIB_ID INTEGER ENCODE zstd, ANS_ATTRIB_ID SMALLINT ENCODE zstd, OBS_ATTRIB_ID INTEGER ENCODE zstd, DISPIVECTOR SMALLINT ENCODE zstd, DISPSPLIT SMALLINT ENCODE zstd, FIRSTIVECTOR SMALLINT ENCODE zstd, SPLIT1 SMALLINT ENCODE zstd, SPLIT2 SMALLINT ENCODE zstd, SPLIT3 SMALLINT ENCODE zstd, TKGRP SMALLINT ENCODE zstd, EQ_LOCID SMALLINT ENCODE zstd, ORIG_LOCID SMALLINT ENCODE zstd, ANS_LOCID SMALLINT ENCODE zstd, OBS_LOCID SMALLINT ENCODE zstd, UUI_LEN SMALLINT ENCODE zstd, ASSIST BOOLEAN ENCODE zstd, AUDIO BOOLEAN ENCODE zstd, CONFERENCE BOOLEAN ENCODE zstd, DA_QUEUED BOOLEAN ENCODE zstd, HOLDABN BOOLEAN ENCODE zstd, MALICIOUS BOOLEAN ENCODE zstd, OBSERVINGCALL BOOLEAN ENCODE zstd, TRANSFERRED BOOLEAN ENCODE zstd, AGT_RELEASED BOOLEAN ENCODE zstd, ACD SMALLINT ENCODE zstd, CALL_DISP SMALLINT ENCODE zstd, DISPPRIORITY SMALLINT ENCODE zstd, HELD SMALLINT ENCODE zstd, SEGMENT SMALLINT ENCODE zstd, ANSREASON SMALLINT ENCODE zstd, ORIGREASON SMALLINT ENCODE zstd, DISPSKLEVEL SMALLINT ENCODE zstd, EVENT1 SMALLINT ENCODE zstd, EVENT2 SMALLINT ENCODE zstd, EVENT3 SMALLINT ENCODE zstd, EVENT4 SMALLINT ENCODE zstd, EVENT5 SMALLINT ENCODE zstd, EVENT6 SMALLINT ENCODE zstd, EVENT7 SMALLINT ENCODE zstd, EVENT8 SMALLINT ENCODE zstd, EVENT9 SMALLINT ENCODE zstd, UCID CHAR(52) ENCODE zstd, DISPVDN CHAR(42) ENCODE zstd, EQLOC CHAR(30) ENCODE zstd, FIRSTVDN CHAR(42) ENCODE zstd, ORIGLOGIN CHAR(42) ENCODE zstd, ANSLOGIN CHAR(42) ENCODE zstd, LASTOBSERVER CHAR(42) ENCODE zstd, DIALED_NUM CHAR(60) ENCODE zstd, CALLING_PTY CHAR(60) ENCODE zstd, LASTDIGITS CHAR(44) ENCODE zstd, LASTCWC CHAR(44) ENCODE zstd, CALLING_II CHAR(16) ENCODE zstd, CWC1 CHAR(44) ENCODE zstd, CWC2 CHAR(44) ENCODE zstd, CWC3 CHAR(44) ENCODE zstd, CWC4 CHAR(44) ENCODE zstd, CWC5 CHAR(44) ENCODE zstd, VDN2 CHAR(42) ENCODE zstd, VDN3 CHAR(42) ENCODE zstd, VDN4 CHAR(42) ENCODE zstd, VDN5 CHAR(42) ENCODE zstd, VDN6 CHAR(42) ENCODE zstd, VDN7 CHAR(42) ENCODE zstd, VDN8 CHAR(42) ENCODE zstd, VDN9 CHAR(42) ENCODE zstd, ASAI_UUI CHAR(204) ENCODE zstd, INTERUPTDEL SMALLINT ENCODE zstd, AGENTSURPLUS SMALLINT ENCODE zstd, AGENTSKILLLEVEL SMALLINT ENCODE zstd, PREFSKILLLEVEL SMALLINT ENCODE zstd, ICRRESENT SMALLINT ENCODE zstd, ICRPULLREASON SMALLINT ENCODE zstd, TENANT INTEGER ENCODE zstd, MD5_HASH_KEY varchar(100) ENCODE zstd) distkey(callid) compound sortkey(callid, segment);",
        "column_list": "(CALLID, ACWTIME, ANSHOLDTIME, CONSULTTIME, DISPTIME, DURATION, SEGSTART, SEGSTART_UTC, SEGSTOP, SEGSTOP_UTC, TALKTIME, NETINTIME, ORIGHOLDTIME, QUEUETIME, RINGTIME, ORIG_ATTRIB_ID, ANS_ATTRIB_ID, OBS_ATTRIB_ID, DISPIVECTOR, DISPSPLIT, FIRSTIVECTOR, SPLIT1, SPLIT2, SPLIT3, TKGRP, EQ_LOCID, ORIG_LOCID, ANS_LOCID, OBS_LOCID, UUI_LEN, ASSIST, AUDIO, CONFERENCE, DA_QUEUED, HOLDABN, MALICIOUS, OBSERVINGCALL, TRANSFERRED, AGT_RELEASED, ACD, CALL_DISP, DISPPRIORITY, HELD, SEGMENT, ANSREASON, ORIGREASON, DISPSKLEVEL, EVENT1, EVENT2, EVENT3, EVENT4, EVENT5, EVENT6, EVENT7, EVENT8, EVENT9, UCID, DISPVDN, EQLOC, FIRSTVDN, ORIGLOGIN, ANSLOGIN, LASTOBSERVER, DIALED_NUM, CALLING_PTY, LASTDIGITS, LASTCWC, CALLING_II, CWC1, CWC2, CWC3, CWC4, CWC5, VDN2, VDN3, VDN4, VDN5, VDN6, VDN7, VDN8, VDN9, ASAI_UUI, INTERUPTDEL, AGENTSURPLUS, AGENTSKILLLEVEL, PREFSKILLLEVEL, ICRRESENT, ICRPULLREASON, TENANT)"
      }
    }
  ]
}