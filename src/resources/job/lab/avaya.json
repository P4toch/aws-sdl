{
  "config": {
    "bucket_data": "ege-gap-alpha-lab-uw2",
    "bucket_data_s3": "s3://ege-gap-alpha-lab-uw2/GCO/public/CONTACT/PHONE/AVAYA/",
    "bucket_data_http": "https://s3-us-west-2.amazonaws.com/",
    "bucket_conf": "ege-gap-conf-alpha-lab-uw2",
    "prefix_conf": "GCO/CONTACT/PHONE/AVAYA/",
    "prefix_raw": "GCO/raw/CONTACT/PHONE/AVAYA/",
    "prefix_stage": "GCO/stage/CONTACT/PHONE/AVAYA/",
    "prefix_public": "GCO/public/CONTACT/PHONE/AVAYA/",
    "delta_loading_file": "avaya_delta_loading.json",
    "loaded_to_public_file": "avaya_loaded_to_public.json",
    "redshift_copy_cmd": "copy {table} from 's3://{bucket}/{prefix}{file}' iam_role '{iam_role}' delimiter '{delimiter}' ACCEPTINVCHARS IGNOREHEADER 1 TRIMBLANKS EMPTYASNULL IGNOREBLANKLINES CSV;",
    "redshift_copy_cmd_iam_role": "arn:aws:iam::506792119149:role/REDSHIFT_LAB_RT_S3_ACCESS",
    "redshift_copy_cmd_delimiter": ";",
    "stage_to_public_sql": "insert into {public_table} select '{http}{bucket}/{prefix}{table_origin}/{table_origin}_' + to_char(row_date, 'YYYYMMDD') + '.csv' as datalakefilelocation, true as isrecordactive, getdate() as creationdate, getdate() as updateddate, 'awsuser' as createdby, * from {stage_table}"
  },
  "get_data": [
    {
      "source": {
        "type": "sql",
        "location": "hist_tac_hsplit",
        "columnid": "row_date",
        "sql": "select * from Expedia.hist_tac_hsplit (nolock) where row_date = convert(date, '{the_date}')",
        "sql_": "select top (10) * from Expedia.hist_tac_hsplit (nolock) where row_date = convert(date, '{the_date}')",
        "is_active": 1,
        "delta": 1,
        "target": "avaya_hist_tac_hsplit",
        "target_test": "avaya_hist_tac_hsplit_test",
        "loading_method": "full",
        "truncate_table": "truncate table {table}",
        "stage_table": "stage.avaya_hist_tac_hsplit",
        "stage_table_test": "stage.avaya_hist_tac_hsplit_test",
        "public_table": "public.avaya_hist_tac_hsplit",
        "public_table_test": "public.avaya_hist_tac_hsplit_test",
        "delta_query_part_1": "",
        "delta_query_part_2": "",
        "create_stage_table": "create table if not exists {table} (row_date timestamp, starttime integer, intrvl integer, acd integer, split integer, i_stafftime integer, i_availtime integer, i_acdtime integer, i_acwtime integer, i_acwouttime integer, i_acwintime integer, i_auxtime integer, i_auxouttime integer, i_auxintime integer, i_othertime integer, maxstaffed integer, acwincalls integer, acwintime integer, auxincalls integer, auxintime integer, acwoutcalls integer, acwouttime integer, acwoutoffcalls integer, acwoutofftime integer, acwoutadjcalls integer, auxoutcalls integer, auxouttime integer, auxoutoffcalls integer, auxoutofftime integer, auxoutadjcalls integer, event1 integer, event2 integer, event3 integer, event4 integer, event5 integer, event6 integer, event7 integer, event8 integer, event9 integer, assists integer, inflowcalls integer, acdcalls integer, anstime integer, acdtime integer, acwtime integer, o_acdcalls integer, o_acdtime integer, o_acwtime integer, acdcalls1 integer, acdcalls2 integer, acdcalls3 integer, acdcalls4 integer, acdcalls5 integer, acdcalls6 integer, acdcalls7 integer, acdcalls8 integer, acdcalls9 integer, acdcalls10 integer, backupcalls integer, holdcalls integer, holdtime integer, holdabncalls integer, transferred integer, conference integer, abncalls integer, abntime integer, abncalls1 integer, abncalls2 integer, abncalls3 integer, abncalls4 integer, abncalls5 integer, abncalls6 integer, abncalls7 integer, abncalls8 integer, abncalls9 integer, abncalls10 integer, dequecalls integer, dequetime integer, busycalls integer, busytime integer, disccalls integer, disctime integer, outflowcalls integer, outflowtime integer, interflowcalls integer, lowcalls integer, medcalls integer, highcalls integer, topcalls integer, acceptable integer, servicelevel integer, period1 integer, period2 integer, period3 integer, period4 integer, period5 integer, period6 integer, period7 integer, period8 integer, period9 integer, maxinqueue integer, maxocwtime integer, callsoffered integer, periodchg integer, svclevelchg integer, i_ringtime integer, ringtime integer, ringcalls integer, abnringcalls integer, o_abncalls integer, o_othercalls integer, da_acwincalls integer, da_acwintime integer, da_acwocalls integer, da_acwotime integer, noansredir integer, incomplete integer, acdauxoutcalls integer, i_acdaux_outtime integer, i_acdauxintime integer, i_acdothertime integer, phantomabns integer, othercalls integer, othertime integer, slvlabns integer, slvloutflows integer, i_arrived integer, i_auxtime0 integer, i_auxtime1 integer, i_auxtime2 integer, i_auxtime3 integer, i_auxtime4 integer, i_auxtime5 integer, i_auxtime6 integer, i_auxtime7 integer, i_auxtime8 integer, i_auxtime9 integer, i_da_acdtime integer, i_da_acwtime integer, i_tavailtime integer, i_tauxtime integer, maxtop integer, i_normtime integer, i_ol1time integer, i_ol2time integer, i_tothertime integer, max_tot_percents integer, acdcalls_r1 integer, acdcalls_r2 integer, i_acdtime_r1 integer, i_acdtime_r2 integer, i_acwtime_r1 integer, i_acwtime_r2 integer, i_ringtime_r1 integer, i_ringtime_r2 integer, i_othertime_r1 integer, i_othertime_r2 integer, i_auxtime_r1 integer, i_auxtime_r2 integer, i_otherstbytime_r1 integer, i_otherstbytime_r2 integer, i_auxstbytime_r1 integer, i_auxstbytime_r2 integer, i_behindtime integer, i_autoreservetime integer, targetpercent integer, targetpctchg integer, targetseconds integer, targetsecchg integer, targetacdcalls integer, targetabns integer, targetoutflows integer, loadfile varchar(50), loaddate timestamp, i_auxtime10 integer, i_auxtime11 integer, i_auxtime12 integer, i_auxtime13 integer, i_auxtime14 integer, i_auxtime15 integer, i_auxtime16 integer, i_auxtime17 integer, i_auxtime18 integer, i_auxtime19 integer, i_auxtime20 integer, i_auxtime21 integer, i_auxtime22 integer, i_auxtime23 integer, i_auxtime24 integer, i_auxtime25 integer, i_auxtime26 integer, i_auxtime27 integer, i_auxtime28 integer, i_auxtime29 integer, i_auxtime30 integer, i_auxtime31 integer, i_auxtime32 integer, i_auxtime33 integer, i_auxtime34 integer, i_auxtime35 integer, i_auxtime36 integer, i_auxtime37 integer, i_auxtime38 integer, i_auxtime39 integer, i_auxtime40 integer, i_auxtime41 integer, i_auxtime42 integer);",
        "create_public_table": "create table if not exists {table} (datalakefilelocation varchar(255), isrecordactive bool, creationdate timestamp, updateddate timestamp, createdby varchar(50), row_date timestamp, starttime integer, intrvl integer, acd integer, split integer, i_stafftime integer, i_availtime integer, i_acdtime integer, i_acwtime integer, i_acwouttime integer, i_acwintime integer, i_auxtime integer, i_auxouttime integer, i_auxintime integer, i_othertime integer, maxstaffed integer, acwincalls integer, acwintime integer, auxincalls integer, auxintime integer, acwoutcalls integer, acwouttime integer, acwoutoffcalls integer, acwoutofftime integer, acwoutadjcalls integer, auxoutcalls integer, auxouttime integer, auxoutoffcalls integer, auxoutofftime integer, auxoutadjcalls integer, event1 integer, event2 integer, event3 integer, event4 integer, event5 integer, event6 integer, event7 integer, event8 integer, event9 integer, assists integer, inflowcalls integer, acdcalls integer, anstime integer, acdtime integer, acwtime integer, o_acdcalls integer, o_acdtime integer, o_acwtime integer, acdcalls1 integer, acdcalls2 integer, acdcalls3 integer, acdcalls4 integer, acdcalls5 integer, acdcalls6 integer, acdcalls7 integer, acdcalls8 integer, acdcalls9 integer, acdcalls10 integer, backupcalls integer, holdcalls integer, holdtime integer, holdabncalls integer, transferred integer, conference integer, abncalls integer, abntime integer, abncalls1 integer, abncalls2 integer, abncalls3 integer, abncalls4 integer, abncalls5 integer, abncalls6 integer, abncalls7 integer, abncalls8 integer, abncalls9 integer, abncalls10 integer, dequecalls integer, dequetime integer, busycalls integer, busytime integer, disccalls integer, disctime integer, outflowcalls integer, outflowtime integer, interflowcalls integer, lowcalls integer, medcalls integer, highcalls integer, topcalls integer, acceptable integer, servicelevel integer, period1 integer, period2 integer, period3 integer, period4 integer, period5 integer, period6 integer, period7 integer, period8 integer, period9 integer, maxinqueue integer, maxocwtime integer, callsoffered integer, periodchg integer, svclevelchg integer, i_ringtime integer, ringtime integer, ringcalls integer, abnringcalls integer, o_abncalls integer, o_othercalls integer, da_acwincalls integer, da_acwintime integer, da_acwocalls integer, da_acwotime integer, noansredir integer, incomplete integer, acdauxoutcalls integer, i_acdaux_outtime integer, i_acdauxintime integer, i_acdothertime integer, phantomabns integer, othercalls integer, othertime integer, slvlabns integer, slvloutflows integer, i_arrived integer, i_auxtime0 integer, i_auxtime1 integer, i_auxtime2 integer, i_auxtime3 integer, i_auxtime4 integer, i_auxtime5 integer, i_auxtime6 integer, i_auxtime7 integer, i_auxtime8 integer, i_auxtime9 integer, i_da_acdtime integer, i_da_acwtime integer, i_tavailtime integer, i_tauxtime integer, maxtop integer, i_normtime integer, i_ol1time integer, i_ol2time integer, i_tothertime integer, max_tot_percents integer, acdcalls_r1 integer, acdcalls_r2 integer, i_acdtime_r1 integer, i_acdtime_r2 integer, i_acwtime_r1 integer, i_acwtime_r2 integer, i_ringtime_r1 integer, i_ringtime_r2 integer, i_othertime_r1 integer, i_othertime_r2 integer, i_auxtime_r1 integer, i_auxtime_r2 integer, i_otherstbytime_r1 integer, i_otherstbytime_r2 integer, i_auxstbytime_r1 integer, i_auxstbytime_r2 integer, i_behindtime integer, i_autoreservetime integer, targetpercent integer, targetpctchg integer, targetseconds integer, targetsecchg integer, targetacdcalls integer, targetabns integer, targetoutflows integer, loadfile varchar(50), loaddate timestamp, i_auxtime10 integer, i_auxtime11 integer, i_auxtime12 integer, i_auxtime13 integer, i_auxtime14 integer, i_auxtime15 integer, i_auxtime16 integer, i_auxtime17 integer, i_auxtime18 integer, i_auxtime19 integer, i_auxtime20 integer, i_auxtime21 integer, i_auxtime22 integer, i_auxtime23 integer, i_auxtime24 integer, i_auxtime25 integer, i_auxtime26 integer, i_auxtime27 integer, i_auxtime28 integer, i_auxtime29 integer, i_auxtime30 integer, i_auxtime31 integer, i_auxtime32 integer, i_auxtime33 integer, i_auxtime34 integer, i_auxtime35 integer, i_auxtime36 integer, i_auxtime37 integer, i_auxtime38 integer, i_auxtime39 integer, i_auxtime40 integer, i_auxtime41 integer, i_auxtime42 integer);",
        "full_load_min_date": "2017-10-01"
      }
    },
    {
      "source": {
        "type": "sql",
        "location": "hist_tac_hagent",
        "columnid": "row_date",
        "sql": "select * from Expedia.hist_tac_hagent (nolock) where row_date = convert(date, '{the_date}')",
        "sql_": "select top (10) * from Expedia.hist_tac_hagent (nolock) where row_date = convert(date, '{the_date}')",
        "is_active": 1,
        "delta": 1,
        "target": "avaya_hist_tac_hagent",
        "target_test": "avaya_hist_tac_hagent_test",
        "loading_method": "full",
        "truncate_table": "truncate table {table}",
        "stage_table": "stage.avaya_hist_tac_hagent",
        "stage_table_test": "stage.avaya_hist_tac_hagent_test",
        "public_table": "public.avaya_hist_tac_hagent",
        "public_table_test": "public.avaya_hist_tac_hagent_test",
        "delta_query_part_1": "",
        "delta_query_part_2": "",
        "create_stage_table": "create table if not exists {table} (row_date timestamp, starttime integer, intrvl integer, acd integer, split integer, extension varchar(10), logid varchar(10), loc_id integer, rsv_level integer, i_stafftime integer, ti_stafftime integer, i_availtime integer, ti_availtime integer, i_acdtime integer, i_acwtime integer, i_acwouttime integer, i_acwintime integer, ti_auxtime integer, i_auxouttime integer, i_auxintime integer, i_othertime integer, acwincalls integer, acwintime integer, auxincalls integer, auxintime integer, acwoutcalls integer, acwouttime integer, acwoutoffcalls integer, acwoutofftime integer, acwoutadjcalls integer, auxoutcalls integer, auxouttime integer, auxoutoffcalls integer, auxoutofftime integer, auxoutadjcalls integer, event1 integer, event2 integer, event3 integer, event4 integer, event5 integer, event6 integer, event7 integer, event8 integer, event9 integer, assists integer, acdcalls integer, acdtime integer, acwtime integer, o_acdcalls integer, o_acdtime integer, o_acwtime integer, da_acdcalls integer, da_anstime integer, da_abncalls integer, da_abntime integer, holdcalls integer, holdtime integer, holdabncalls integer, transferred integer, conference integer, abncalls integer, abntime integer, i_ringtime integer, i_da_acdtime integer, i_da_acwtime integer, da_acdtime integer, da_acwtime integer, da_othercalls integer, da_othertime integer, ringcalls integer, ringtime integer, ansringtime integer, ti_othertime integer, da_acwincalls integer, da_acwintime integer, da_acwocalls integer, da_acwotime integer, da_acwoadjcalls integer, da_acwooffcalls integer, da_acwoofftime integer, noansredir integer, incomplete integer, acdauxoutcalls integer, i_acdaux_outtime integer, i_acdauxintime integer, i_acdothertime integer, phantomabns integer, i_auxtime integer, holdacdtime integer, da_release integer, acd_release integer, ti_auxtime0 integer, ti_auxtime1 integer, ti_auxtime2 integer, ti_auxtime3 integer, ti_auxtime4 integer, ti_auxtime5 integer, ti_auxtime6 integer, ti_auxtime7 integer, ti_auxtime8 integer, ti_auxtime9 integer, acdcalls_r1 integer, acdcalls_r2 integer, i_otherstbytime integer, i_auxstbytime integer, loadfile varchar(50), loaddate timestamp, ti_auxtime10 integer, ti_auxtime11 integer, ti_auxtime12 integer, ti_auxtime13 integer, ti_auxtime14 integer, ti_auxtime15 integer, ti_auxtime16 integer, ti_auxtime17 integer, ti_auxtime18 integer, ti_auxtime19 integer, ti_auxtime20 integer, ti_auxtime21 integer, ti_auxtime22 integer, ti_auxtime23 integer, ti_auxtime24 integer, ti_auxtime25 integer, ti_auxtime26 integer, ti_auxtime27 integer, ti_auxtime28 integer, ti_auxtime29 integer, ti_auxtime30 integer, ti_auxtime31 integer, ti_auxtime32 integer, ti_auxtime33 integer, ti_auxtime34 integer, ti_auxtime35 integer, ti_auxtime36 integer, ti_auxtime37 integer, ti_auxtime38 integer, ti_auxtime39 integer, ti_auxtime40 integer, ti_auxtime41 integer, ti_auxtime42 integer);",
        "create_public_table": "create table if not exists {table} (datalakefilelocation varchar(255), isrecordactive bool, creationdate timestamp, updateddate timestamp, createdby varchar(50), row_date timestamp, starttime integer, intrvl integer, acd integer, split integer, extension varchar(10), logid varchar(10), loc_id integer, rsv_level integer, i_stafftime integer, ti_stafftime integer, i_availtime integer, ti_availtime integer, i_acdtime integer, i_acwtime integer, i_acwouttime integer, i_acwintime integer, ti_auxtime integer, i_auxouttime integer, i_auxintime integer, i_othertime integer, acwincalls integer, acwintime integer, auxincalls integer, auxintime integer, acwoutcalls integer, acwouttime integer, acwoutoffcalls integer, acwoutofftime integer, acwoutadjcalls integer, auxoutcalls integer, auxouttime integer, auxoutoffcalls integer, auxoutofftime integer, auxoutadjcalls integer, event1 integer, event2 integer, event3 integer, event4 integer, event5 integer, event6 integer, event7 integer, event8 integer, event9 integer, assists integer, acdcalls integer, acdtime integer, acwtime integer, o_acdcalls integer, o_acdtime integer, o_acwtime integer, da_acdcalls integer, da_anstime integer, da_abncalls integer, da_abntime integer, holdcalls integer, holdtime integer, holdabncalls integer, transferred integer, conference integer, abncalls integer, abntime integer, i_ringtime integer, i_da_acdtime integer, i_da_acwtime integer, da_acdtime integer, da_acwtime integer, da_othercalls integer, da_othertime integer, ringcalls integer, ringtime integer, ansringtime integer, ti_othertime integer, da_acwincalls integer, da_acwintime integer, da_acwocalls integer, da_acwotime integer, da_acwoadjcalls integer, da_acwooffcalls integer, da_acwoofftime integer, noansredir integer, incomplete integer, acdauxoutcalls integer, i_acdaux_outtime integer, i_acdauxintime integer, i_acdothertime integer, phantomabns integer, i_auxtime integer, holdacdtime integer, da_release integer, acd_release integer, ti_auxtime0 integer, ti_auxtime1 integer, ti_auxtime2 integer, ti_auxtime3 integer, ti_auxtime4 integer, ti_auxtime5 integer, ti_auxtime6 integer, ti_auxtime7 integer, ti_auxtime8 integer, ti_auxtime9 integer, acdcalls_r1 integer, acdcalls_r2 integer, i_otherstbytime integer, i_auxstbytime integer, loadfile varchar(50), loaddate timestamp, ti_auxtime10 integer, ti_auxtime11 integer, ti_auxtime12 integer, ti_auxtime13 integer, ti_auxtime14 integer, ti_auxtime15 integer, ti_auxtime16 integer, ti_auxtime17 integer, ti_auxtime18 integer, ti_auxtime19 integer, ti_auxtime20 integer, ti_auxtime21 integer, ti_auxtime22 integer, ti_auxtime23 integer, ti_auxtime24 integer, ti_auxtime25 integer, ti_auxtime26 integer, ti_auxtime27 integer, ti_auxtime28 integer, ti_auxtime29 integer, ti_auxtime30 integer, ti_auxtime31 integer, ti_auxtime32 integer, ti_auxtime33 integer, ti_auxtime34 integer, ti_auxtime35 integer, ti_auxtime36 integer, ti_auxtime37 integer, ti_auxtime38 integer, ti_auxtime39 integer, ti_auxtime40 integer, ti_auxtime41 integer, ti_auxtime42 integer);",
        "full_load_min_date": "2017-10-01"
      }
    }
  ]
}